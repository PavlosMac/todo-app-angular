<div class="table" fxLayout="column" fxLayoutAlign="space-around center" fxLayoutGap="20px">

  <app-loader></app-loader>

  <div fxFlex>
    <h1 style="font-family: 'Arial', Times, serif">MY TODO'S</h1>
  </div>

  <div fxFlex>
    <button (click)="openCreateDialog()" mat-raised-button color="primary">ADD TODO</button>
  </div>

  <div fxFlex>

    <div fxLayout="column" fxLayoutAlign="space-around center" fxLayoutGap="20px">
      <div fxFlex>
        <table mat-table #table [dataSource]="dataSource" class="mat-elevation-z8">

          <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef> Title</th>
            <td mat-cell *matCellDef="let todo"> {{todo.title}} </td>
          </ng-container>

          <ng-container matColumnDef="priority">
            <th mat-header-cell *matHeaderCellDef> Priority</th>
            <td mat-cell *matCellDef="let todo"> {{todo.priority_level}} </td>
          </ng-container>

          <ng-container matColumnDef="dateUpdated">
            <th mat-header-cell *matHeaderCellDef> Last Updated</th>
            <td mat-cell
                *matCellDef="let todo"> {{ (todo.date_updated || todo.date_created) | dateTimeFormat}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row class="element-row"
              [class.expanded-row]="expandedElement === row" *matRowDef="let row; columns: displayedColumns;"
              (click)="onRowClicked(row)"></tr>
        </table>

      </div>

      <div fxFlex>
        <mat-paginator [pageSizeOptions]="[5,10,15]" showFirstLastButtons></mat-paginator>
      </div>

    </div>
  </div>

  <div fxFlex></div>

</div>
